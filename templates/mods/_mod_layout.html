{% extends 'base.html' %}
{% load static %}

{% block content %}

    <div class="flex flex-row gap-3">
        <aside class="basis-1/4">
            <div class="p-5 bg-card rounded-xl shadow-lg">
                {% if user == mod.user %}
                    <div class="flex flex-row mb-2">
                        <a href="{% url 'mods:version-create' user.username mod.slug %}"
                           class="font-medium rounded-lg hover:bg-blue-700 focus:ring-4 focus:ring-blue-800 focus:outline-none text-sm px-5 py-2 mr-2 mb-2 text-white bg-blue-600">Update</a>
                        <a href="{% url 'mods:edit' user.username mod.slug %}"
                           class="border focus:outline-none focus:ring-4 focus:ring-gray-200 font-medium rounded-lg text-sm px-5 py-2 mr-2 mb-2 bg-card text-white border-gray-600 hover:bg-gray-700 hover:border-gray-600 focus:ring-gray-700">Settings</a>
                    </div>
                {% endif %}

                <a href="{% url 'mods:detail' mod.user.username mod.slug %}">
                    <img class="bg-background rounded-xl h-28 w-28" src="{{ mod.logo.url }}"
                         alt="{{ mod.label }} logo"/>
                    <h2 class="text-2xl font-bold pt-2">{{ mod.label }}</h2>
                </a>

                <a class="font-medium hover:underline hover:text-white" href="{% url 'mods:list' %}">
                    <div class="flex items-center gap-1">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                             stroke="currentColor" class="w-5 h-5">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                  d="M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"></path>
                        </svg>
                        Mod
                    </div>
                </a>

                <p class="pt-2">{{ mod.short_description }}</p>

                <hr class="h-px my-3 bg-separator border-0">
            </div>

            <div class="mt-4 p-5 bg-card rounded-xl shadow-lg">
                <h2 class="text-lg font-bold pt-2">Featured versions</h2>
                <ul class="mt-3 max-w-md">
                    {% for version in mod.versions.all %}
                        <li class="mb-2 sm:mb-4">
                            <div class="flex items-center space-x-4">
                                <div class="flex flex-row">
                                    <a href="{{ version.file.url }}"
                                       class="bg-green-500 self-center rounded-2xl text-black p-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" class="w-6 h-6"
                                             viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                  d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"></path>
                                        </svg>
                                    </a>
                                    {#                                    <img class="w-8 h-8 rounded-full" src="/docs/images/people/profile-picture-1.jpg" alt="Neil image">#}
                                </div>
                                <a class=" hover:underline flex-1 min-w-0"
                                   href="{% url 'mods:version-detail' mod.user.username mod.slug version.slug %}">
                                    <div class="">
                                        <p class="text-sm font-medium text-gray-900 truncate dark:text-white">
                                            {{ version.label }}
                                        </p>
                                        {#                                <p class="text-sm text-gray-500 truncate dark:text-gray-400">#}
                                        {#                                   email@flowbite.com#}
                                        {#                                </p>#}
                                    </div>
                                </a>
                            </div>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </aside>
        <div class="basis-3/4">
            <div class="p-5 mb-4 bg-card rounded-xl shadow-lg">

                <ul class="flex flex-col md:flex-row gap-3">
                    {% url 'mods:detail' mod.user.username mod.slug as detail_url %}
                    {% url 'mods:version-list' mod.user.username mod.slug as version_url %}
                    <li><a class="{% if detail_url == request.path %}text-white{% endif %}" href="{{ detail_url }}">Description</a>
                    </li>
                    <li><a class="{% if version_url == request.path %}text-white{% endif %}" href="{{ version_url }}">Versions</a>
                    </li>
                </ul>

            </div>

            {% block main %}{% endblock main %}
        </div>
    </div>

{% endblock %}

